{"version":3,"sources":["components/Filter.js","components/Form.js","components/ActionButton.js","services/book.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterBy","handleFilterChange","value","onChange","Form","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Button","props","onClick","command","baseUrl","getAll","a","axios","get","then","res","data","add","entry","post","del","console","log","delete","update","put","id","Person","name","number","window","confirm","book","setPersons","persons","filter","p","Persons","show","map","Notification","message","error","split","find","toLowerCase","className","App","useState","setNewName","setNewNumber","setFilterBy","notification","setNotification","isLoading","setIsLoading","useEffect","e","target","filterArr","forEach","indexOf","event","preventDefault","newEntry","setTimeout","catch","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a009ab2a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filterBy, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      Filter by name:\r\n      <input value={filterBy} onChange={handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;","import React from \"react\";\r\n\r\nconst Form = ({\r\n  addName,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;","import React from \"react\";\r\n\r\nconst Button = (props) => {\r\n    return(\r\n        <button onClick={props.command}>{props.value}</button> \r\n    );\r\n}\r\n\r\nexport default Button;","import axios from \"axios\";\r\n\r\nconst baseUrl = \"http://localhost:3001/api/persons\";\r\n\r\nconst getAll = async () => {\r\n  return await axios.get(baseUrl).then((res) => res.data);\r\n};\r\n\r\nconst add = async (entry) => {\r\n  return await axios.post(baseUrl, entry).then((res) => res.data);\r\n};\r\n\r\nconst del = async (entry) => {\r\n  console.log(entry);\r\n  return await axios.delete(`${baseUrl}/${entry}`).then((res) => res);\r\n};\r\n\r\nconst update = async (entry) => {\r\n  return await axios.put(`${baseUrl}/${entry.id}`, entry).then((res) => res.data);\r\n};\r\n\r\nexport default { getAll, add, del, update };\r\n","import React from \"react\";\r\nimport Button from \"./ActionButton\";\r\nimport book from \"../services/book\";\r\n\r\nconst Person = (props) => {\r\n  return (\r\n    <li>\r\n      {props.name} {props.number}\r\n      <Button value={\"delete\"} command={() => {\r\n        let yes = window.confirm(`Are you sure you want to delete ${props.name}?`);\r\n        if (yes)\r\n          book.del(props.id).then(res => {            \r\n            props.setPersons(props.persons.filter(p => p.id !== props.id));\r\n          });\r\n      }} />\r\n    </li>\r\n  );\r\n};\r\n\r\nconst Persons = ({ persons, setPersons }) => {\r\n  return persons\r\n    .filter((p) => p.show === true)\r\n    .map((p) => <Person key={p.id} name={p.name} number={p.number} id={p.id} setPersons={setPersons} persons={persons} />);\r\n};\r\n\r\nexport {Person, Persons};","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  let error = message.split(\" \").find(a => a.toLowerCase() === \"error\")\r\n\r\n  return <div className={`${error ? \"error\" : \"success\"}`}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Form from \"./components/Form\";\nimport { Persons } from \"./components/Persons\";\nimport book from \"./services/book\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {  \n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterBy, setFilterBy] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n\n  const addName = (event) => {\n    event.preventDefault();\n    if (persons.map((p) => p.name).find((a) => a === newName)) {\n      let yes = window.confirm(\n        `${newName} is already in the phonebook, replace phone number?`\n      );\n      if (yes) {\n        let entry = persons.filter((p) => p.name === newName);\n        const newEntry = { ...entry[0], number: newNumber };\n        book\n          .update(newEntry)\n          .then((res) =>{\n            setPersons(persons.map((p) => (p.id !== newEntry.id ? p : res)))\n            setNotification(`Successfuly changed number for ${newEntry.name}`);\n            setTimeout(() => {\n              setNotification(null);\n            }, 4000);\n          })\n          .catch(error => {\n            setNotification(`Error updating ${newEntry.name} information`);\n            setPersons(persons);\n            setTimeout(() => {\n              setNotification(null);\n            }, 4000);\n          });\n      }\n\n      return;\n    }\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n      show: true,\n    };\n\n    book.add(newPerson).then((res) => {\n      setPersons(persons.concat(res));\n      setNewName(\"\");\n      setNewNumber(\"\");\n      setNotification(`${res.name} has been added`);\n      setTimeout(() => {\n        setNotification(null);\n      }, 4000);\n    });\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleFilterChange = (e) => {\n    setFilterBy(e.target.value);\n    let filterArr = [...persons];\n    filterArr.forEach((p) =>\n      p.name.toLowerCase().indexOf(e.target.value.toLowerCase()) > -1\n        ? (p.show = true)\n        : (p.show = false)\n    );\n    setPersons(filterArr);\n  };\n\n\n  useEffect(() => {\n    setIsLoading(true)\n    book.getAll().then((res) => {\n      setIsLoading(false);\n      setPersons(res);\n    });   \n  }, []);\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notification} />\n      <Filter filterBy={filterBy} handleFilterChange={handleFilterChange} />\n      <h2>Add a new entry</h2>\n      <Form\n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      {isLoading ? (\n        <p>Loading...</p>\n      ) : (\n        <ul>\n          <Persons persons={persons} setPersons={setPersons} />\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}